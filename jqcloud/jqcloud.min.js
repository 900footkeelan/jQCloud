/*!
 * jQCloud Plugin for jQuery
 *
 * Copyright 2011, Luca Ongaro
 * Licensed under the MIT license.
 *
 * Date: Wed Feb 02 11:12:34 2011 +0100
 */
(function(a){a.fn.jQCloud=function(c){var d=this;var b=function(){var f=function(m,k){var j=function(n,i){if(i.offsetLeft<=(n.offsetLeft+n.offsetWidth)){if(n.offsetLeft<=(i.offsetLeft+i.offsetWidth)){if(i.offsetTop<=(n.offsetTop+n.offsetHeight)){if(n.offsetTop<=(i.offsetTop+i.offsetHeight)){return true}}}}return false};var l=0;for(l=0;l<k.length;l++){if(j(m,k[l])){return true}}return false};c.sort(function(j,i){if(j.weight<i.weight){return 1}else{if(j.weight>i.weight){return -1}else{return 0}}});var h=2;var e=[];var g=d.width()/d.height();a.each(c,function(o,i){var m=d.width()/2;var l=d.height()/2;var k=6.28*Math.random();var p=0;var n=Math.round((i.weight-c[c.length-1].weight)/(c[0].weight-c[c.length-1].weight)*9)+1;if(i.url!==undefined){d.append("<span id='word_"+o+"' class='w"+n+"'><a href='"+i.url+"'>"+i.text+"</a></span>")}else{d.append("<span id='word_"+o+"' class='w"+n+"'>"+i.text+"</span>")}var j=m-a("#word_"+o).width()/2;var q=l-a("#word_"+o).height()/2;a("#word_"+o).css("position","absolute");a("#word_"+o).css("left",j+"px");a("#word_"+o).css("top",q+"px");while(f(document.getElementById("word_"+o),e)){p+=h;k+=(o%2===0?1:-1)*h;j=m+(p*Math.cos(k)-(a("#word_"+o).width()/2))*g;q=l+p*Math.sin(k)-(a("#word_"+o).height()/2);a("#word_"+o).css("left",j+"px");a("#word_"+o).css("top",q+"px")}e.push(document.getElementById("word_"+o))})};setTimeout(function(){b()},100);return this}})(jQuery);