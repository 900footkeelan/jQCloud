/*
 * jQCloud Plugin for jQuery
 *
 * Version 0.1.2
 *
 * Copyright 2011, Luca Ongaro
 * Licensed under the MIT license.
 *
 * Date: Wed Feb 05 14:13:23 2011 +0100
 */
(function(a){a.fn.jQCloud=function(c){var d=this;var b=function(){var f=function(n,l){var k=function(p,o){if(Math.abs(2*p.offsetLeft+p.offsetWidth-2*o.offsetLeft-o.offsetWidth)<p.offsetWidth+o.offsetWidth){if(Math.abs(2*p.offsetTop+p.offsetHeight-2*o.offsetTop-o.offsetHeight)<p.offsetHeight+o.offsetHeight){return true}}return false};var m=0;for(m=0;m<l.length;m++){if(k(n,l[m])){return true}}return false};c.sort(function(l,k){if(l.weight<k.weight){return 1}else{if(l.weight>k.weight){return -1}else{return 0}}});var h=2;var e=[];var g=d.width()/d.height();var j=d.width()/2;var i=d.height()/2;a.each(c,function(p,k){var n=6.28*Math.random();var q=0;var o=Math.round((k.weight-c[c.length-1].weight)/(c[0].weight-c[c.length-1].weight)*9)+1;if(k.url!==undefined){d.append("<span id='word_"+p+"' class='w"+o+"'><a href='"+k.url+"'>"+k.text+"</a></span>")}else{d.append("<span id='word_"+p+"' class='w"+o+"'>"+k.text+"</span>")}var l=a("#word_"+p).width();var s=a("#word_"+p).height();var m=j-l/2;var r=i-s/2;a("#word_"+p).css("position","absolute");a("#word_"+p).css("left",m+"px");a("#word_"+p).css("top",r+"px");while(f(document.getElementById("word_"+p),e)){q+=h;n+=(p%2===0?1:-1)*h;m=j+(q*Math.cos(n)-(l/2))*g;r=i+q*Math.sin(n)-(s/2);a("#word_"+p).css("left",m+"px");a("#word_"+p).css("top",r+"px")}e.push(document.getElementById("word_"+p))})};setTimeout(function(){b()},100);return this}})(jQuery);